<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>Animal Word Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }

        .box {
            border: 1px solid #ccc;
            display: inline-block;
            margin: 10px;
            padding: 10px;
            vertical-align: top;
            min-width: 250px;
        }

        .symbols {
            font-size: 28px;
        }

        .option {
            cursor: pointer;
            margin: 5px;
            padding: 10px;
            display: inline-block;
            border: 2px solid transparent;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: blue;
            transform: scale(1.1);
        }

        .correct {
            border-color: green;
            background-color: #e6ffed;
        }

        .wrong {
            border-color: red;
            background-color: #ffeeee;
        }

        #options {
            margin-top: 30px;
        }
    </style>
</head>

<body>
    <span id="correctIndex" style="display:none;"></span>
    <h1>Hayvan Simgeli EÅŸleÅŸtirme Oyunu</h1>

    <div id="question-area">
        <div class="box">
            <h3>SÃ–ZCÃœKLER</h3>
            <div id="words"></div>
        </div>

        <div class="box">
            <h3>EÅžLEÅžTÄ°RME</h3>
            <div id="mappings"></div>
        </div>

        <div class="box">
            <h3>Ä°STENEN SÃ–ZCÃœK</h3>
            <div id="targetWord" style="font-weight: bold; font-size: 1.2em;"></div>
        </div>
    </div>
    <div id="options" class="box">
        <h3>SEÃ‡ENEKLER</h3>
    </div>

    <script>
        const animalEmojis = ['ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼', 'ðŸ¨', 'ðŸ¯', 'ðŸ¦', 'ðŸ·', 'ðŸ®', 'ðŸµ', 'ðŸ¸', 'ðŸ”'];

        // âœ¨ GÃœNCELLENDÄ°: TÃ¼m kelime gruplarÄ± 4 kelime iÃ§erecek ÅŸekilde dÃ¼zenlendi.
        const wordGroups = [
            ['ALMAN', 'ANLAM', 'YALAN', 'NALAN'],
            ['MASA', 'SABA', 'ASMA', 'SAMA'],
            ['KASA', 'SAKA', 'AKAS', 'ASAK'],
            ['TREN', 'RENT', 'TERN', 'KENT'],
            ['KART', 'TRAK', 'KRAL', 'TARK'],
            ['ELMA', 'LEMA', 'AMEL', 'ALEM'],
            ['BALIK', 'KABLI', 'BAKIL', 'AKIL'],
            ['LÄ°MON', 'ONLÄ°', 'MÄ°LO', 'NÄ°LÃœ'],
            ['ODA', 'ADO', 'DOA', 'AYO'],
            ['KUÅž', 'ÅžUT', 'TOK', 'KOÅž'],
            ['KÄ°TAP', 'PATÄ°K', 'KATÄ°P', 'TAKÄ°P'],
            ['CEVÄ°Z', 'VEZÄ°R', 'CEZA', 'RÄ°ZE']
        ];

        function shuffle(arr) {
            return arr.slice().sort(() => Math.random() - 0.5);
        }

        function createMapping(words) {
            const uniqueLetters = Array.from(new Set(words.join('').toUpperCase().split('')));
            const map = {};
            const shuffledEmojis = shuffle(animalEmojis);
            uniqueLetters.forEach((char, i) => {
                map[char] = shuffledEmojis[i % shuffledEmojis.length];
            });
            return map;
        }

        function wordToSymbols(word, map) {
            return word.toUpperCase().split('').map(l => map[l]).join(' ');
        }

        function initGame() {
            // Bir sonraki tur iÃ§in tÄ±klama olaylarÄ±nÄ± tekrar aktif et
            document.getElementById('options').style.pointerEvents = 'auto';

            const wordSet = shuffle(wordGroups)[0]; // Her zaman 4 kelimelik bir set seÃ§er
            const letterToEmoji = createMapping(wordSet);
            const shuffledWords = shuffle(wordSet);
            const target = shuffledWords[0]; // Hedef kelime olarak birini seÃ§

            document.getElementById('words').textContent = wordSet.join(', ');
            document.getElementById('targetWord').textContent = target;
            document.getElementById('mappings').innerHTML = '';
            document.getElementById('options').innerHTML = '<h3>SEÃ‡ENEKLER</h3>';

            // EÅŸleÅŸtirme kutusunu doldur
            shuffledWords.forEach(word => {
                const p = document.createElement('p');
                p.textContent = `${wordToSymbols(word, letterToEmoji)}`;
                document.getElementById('mappings').appendChild(p);
            });

            const correctOption = wordToSymbols(target, letterToEmoji);

            // âœ¨ GÃœNCELLENDÄ°: SeÃ§enek oluÅŸturma mantÄ±ÄŸÄ± basitleÅŸtirildi.
            // 4 kelimenin hepsini simgelere Ã§evirip karÄ±ÅŸtÄ±rarak 4 farklÄ± seÃ§enek oluÅŸturur.
            const allSymbolOptions = wordSet.map(w => wordToSymbols(w, letterToEmoji));
            const options = shuffle(allSymbolOptions);

            document.getElementById('correctIndex').textContent = options.indexOf(correctOption);

            options.forEach(opt => {
                const div = document.createElement('div');
                div.className = 'option symbols';
                div.textContent = opt;
                div.addEventListener('click', () => {
                    // TÄ±klandÄ±ktan sonra diÄŸer seÃ§eneklere tÄ±klamayÄ± engelle
                    document.querySelectorAll('.option').forEach(el => el.style.pointerEvents = 'none');

                    if (opt === correctOption) {
                        div.classList.add('correct');
                    } else {
                        div.classList.add('wrong');
                        // YanlÄ±ÅŸ cevap verilse bile doÄŸru olanÄ± gÃ¶ster
                        document.querySelectorAll('.option').forEach(el => {
                            if (el.textContent === correctOption) {
                                el.classList.add('correct');
                            }
                        });
                    }
                    // Yeni oyuna geÃ§meden Ã¶nce 2 saniye bekle
                    setTimeout(initGame, 2000);
                });
                document.getElementById('options').appendChild(div);
            });
        }

        initGame();
    </script>
</body>

</html>